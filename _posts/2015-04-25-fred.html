---
permalink: /fred
name: Import from Quandl's FRED Data
---

<html>
    <head>
        <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,300,700' rel='stylesheet' type='text/css'>

        <link href='{{ site.baseurl }}/skeleton.css' rel='stylesheet' type='text/css'>
    </head>

    <body>

        <div class="row">
            <div class="three columns">
                <div style="margin-top: 20px;">

                    <label for="data-source">Data Source</label>
                    This URL was taken directly from Quandl's <a href="https://www.quandl.com/data/FRED/NGDPPOT-Nominal-Potential-Gross-Domestic-Product">Export to CSV link</a>.
                    <input id="data-source" class="u-full-width" type="text" value="https://www.quandl.com/api/v1/datasets/FRED/NGDPPOT.csv" placeholder="url to raw data">
                    <label>JSON Graph Description</label>
                    <code>data</code>
                    <textarea style="height: 120px;" class="u-full-width" id="graph-json-data">
[
    {
        "xsrc": "Date",
        "ysrc": "Value"
    }
]
                    </textarea>
                    <div id="data-error"></div>
                    <code>layout</code>
                    <textarea style="height: 120px;" class="u-full-width" id="graph-json-layout">
{
    "title": "Nominal Potential Gross Domestic Product",
    "yaxis": {
        "title": "Billions of Dollars Not Seasonally Adjusted",
        "tickprefix": "$"
    }
}
                    </textarea>
                    <div id="layout-error"></div>

                    <label for="preview">Show the Last N Points (Optional)</label>
                    (e.g. <code>10</code> will show the last 10 data points, <code>-10</code> will show the first 10 data points of the dataset.)
                    <input id="preview" class="u-full-width" type="text" value="10" placeholder="N">

                    Generated graph URL
                    <pre style="word-wrap: break-word; overflow-y: scroll; height: 100px;" class="u-full-width"><a id="graph-url" target="_blank" href="https://plot.ly/proxy/plot"></a></pre>
                    <a id="update" class="button">
                        Update graph
                    </a>
                </div>
            </div>

            <div class="nine columns">
            <iframe style="width: 100%; height: 750px; border: none;"
                    src="https://plot.ly/proxy/plot">
            </iframe>

        </div>

    </body>

    <footer>
        <script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
        <script type="text/javascript">

            function buildUrl(){
                try {
                    var data = JSON.stringify(JSON.parse($('#graph-json-data').val()));
                } catch(e) {
                    $('#data-error').text('Yikes, invalid JSON!');
                    throw(e);
                }
                try {
                    var layout = JSON.stringify(JSON.parse($('#graph-json-layout').val()));
                } catch(e) {
                    $('#layout-error').text('Yikes, invalid JSON!');
                    throw(e);
                }

                var source = $('#data-source').val();
                var preview = $('#preview').val();

                var url = ''
                url += 'https://plot.ly/proxy/plot?proxy_key=cuJlY8R9h9UUzrO2b6iu';
                url += '&source='+encodeURIComponent(source);
                url += '&data='+encodeURIComponent(data);
                url += '&layout='+encodeURIComponent(layout);

                if(preview !== '') {
                    url += '&preview='+encodeURIComponent(preview);
                }

                return url;
            }

            function updateUrl(){
                console.log('updating url');
                var url = buildUrl();
                $('#graph-url').attr('href', url);
                $('#graph-url').text(decodeURIComponent(url));
                $('iframe').attr('src', url);
            }

            $('#graph-json-data').change(updateUrl);
            $('#graph-json-layout').change(updateUrl);
            $('#data-source').change(updateUrl);
            $('#preview').change(updateUrl);
            $('#update').click(updateUrl);
            updateUrl();

        </script>
    </footer>

</html>
